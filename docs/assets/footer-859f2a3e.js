import{b as d,A as te,d as ae,f as oe,r as i,g as z,h as Y,i as X,j as ve,k as _e,s as he,l as ge,_ as J,a as S,c as F,m as s,u as e,n as ne,I as ye,p as j,t as O,w as h,q as K,v as W,x as Oe,B as Te,y as se,z as be,C as $e,D as Ce,E as q,G as De,H as B,J as $,K as Me,M as Se}from"./index-f4f2c4d9.js";import{T as C}from"./todo-ceed345c.js";import{_ as Q}from"./tooltips.vue_vue_type_script_setup_true_lang-90b2d8a3.js";import{D as x,I as Le}from"./dropdown-314dfd7c.js";var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const ke=Pe;function V(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},u=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),u.forEach(function(r){we(n,r,o[r])})}return n}function we(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}var Z=function(t,o){var u=V({},t,o.attrs);return d(te,V({},u,{icon:ke}),null)};Z.displayName="PlusOutlined";Z.inheritAttrs=!1;const Ee=Z;var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const je=Ye;function ee(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},u=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),u.forEach(function(r){He(n,r,o[r])})}return n}function He(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}var G=function(t,o){var u=ee({},t,o.attrs);return d(te,ee({},u,{icon:je}),null)};G.displayName="SwapOutlined";G.inheritAttrs=!1;const Ie=G,Ne={class:"toolbar-headline"},Re={class:"toolbar-title"},Ae={class:"listTitle"},qe={key:0,class:"toolbar-subline"},Be={class:"todayDateHint"},xe={class:"toolbar-actions"},ze={class:"language"},Fe={class:"sortingOptions"},We=["value"],Ze={name:"TodoHeader"},Ge=ae({...Ze,props:{isSort:Boolean},emits:["onSort"],setup(n,{emit:t}){let o=oe();const u=()=>t("onSort");let r=i(),f=i(),L;z(()=>X().language,c=>{L=c===Y.Zh},{immediate:!0});let H=ve(()=>{switch(o.name){case C.MYDAY:return r.value="icon-sun",f.value=Oe().format(L?"MMMM D, dddd":"dddd, MMMM D"),"my_day";case C.PLANS:return r.value="icon-calendar",f.value=null,"planned";case C.COMPLETED:return r.value="icon-completed",f.value=null,"completed";case C.ALL:return r.value="icon-all",f.value=null,"all";default:return"my_day"}});const T=_e({primaryColor:"#42b883",errorColor:"#ff4d4f",warningColor:"#faad14",successColor:"#52c41a",infoColor:"#1890ff"}),b=i(X().language===Y.Zh);z(b,(c,p)=>{he(c?Y.Zh:Y.En)},{immediate:!0}),ge(()=>{J.config({theme:T})});const P=(c,p)=>{Object.assign(T,{[c]:p.target.value}),J.config({theme:T})};return(c,p)=>{const D=Te;return S(),F("div",{class:W(["toolbar-top",e(f)&&"with-subline"])},[s("div",Ne,[s("div",Re,[s("h2",Ae,[e(r)?(S(),ne(e(ye),{key:0,type:e(r),class:"listTitle-icon"},null,8,["type"])):j("",!0),s("span",null,O(c.$t(e(H))),1)])]),e(f)?(S(),F("div",qe,[s("span",Be,[s("span",null,O(e(f)),1)])])):j("",!0)]),s("div",xe,[s("div",ze,[d(Q,{title:c.$t("header.i18n"),color:"block"},{default:h(()=>[d(D,{type:"text",onClick:p[0]||(p[0]=M=>b.value=!b.value)},{default:h(()=>[K(O(b.value?"zh-cn":"en"),1)]),_:1})]),_:1},8,["title"])]),s("div",Fe,[d(Q,{title:n.isSort?c.$t("header.des",0):c.$t("header.asc",0)},{default:h(()=>[d(D,{type:"link",onClick:u},{default:h(()=>[d(e(Ie),{class:W(n.isSort?"rotate":"")},null,8,["class"]),K(" "+O(n.isSort?c.$t("header.asc",1):c.$t("header.des",1)),1)]),_:1})]),_:1},8,["title"])]),s("input",{class:"theme-box",type:"color",value:T.primaryColor,onInput:p[1]||(p[1]=M=>P("primaryColor",M))},null,40,We)])],2)}}}),ut=se(Ge,[["__scopeId","data-v-c2ebebcb"]]),Ue={class:"plus"},Xe={class:"tool-calendar"},Je={class:"due-date-text"},Ke={class:"date"},Qe={class:"tool-remind"},Ve={class:"due-date-text"},et={class:"date"},tt={class:"tool-repeat"},at={class:"due-date-text"},ot={class:"date"},nt={name:"TodoFooter"},st=ae({...nt,setup(n){let{todos:t,addTodo:o,clear:u,showModal:r}=be(),{duePipe:f,calendarPipe:L,getCalendarList:H,getRemindList:T,getRepeadList:b}=$e();const{t:P}=Ce();let c=oe(),p=Object.values(C),D=i(p[0]),M=i(!1),I=i(!1);i(!1);let m=i(""),g=i(!0),le=i(),N=i(),R=i(),A=i(),k=i(),w=i(),E=i(),re=H(),ie=T(),de=b();i(),z(()=>c.name,(a,l)=>{l!==a&&(m.value=""),M.value=(a==null?void 0:a.toString())!==C.COMPLETED,D.value=(a==null?void 0:a.toString())??p[0]},{immediate:!0});const U=()=>{var l,v;if(!g.value)return;let a={title:m.value,type:D.value,overdueTime:(l=N.value)==null?void 0:l.format(),remindTime:(v=R.value)==null?void 0:v.format(),repeatType:A.value};o(a),ue()},ue=()=>{m.value="",k.value="",N.value=void 0,w.value="",R.value=void 0,E.value="",A.value=void 0};function ce(){I.value=!!m.value}function fe(a,l){const _=[$.TODAY,$.TOMORROW,$.NEXT_WEEK].some(y=>y===a)?f(a):l;N.value=_==null?void 0:_.endOf("d"),k.value=a}function pe(a,l){const v=f(a),_=a===$.LATER_TODAY?v.format("YYYY-MM-DD HH:mm"):[$.TOMORROW,$.NEXT_WEEK].includes(a)?v.format("YYYY-MM-DD 9:00"):l==null?void 0:l.format("YYYY-MM-DD HH:mm");R.value=Me(_),w.value=_}function me(a){E.value=A.value=a}return(a,l)=>{const v=Le,_=Se;return e(M)?(S(),ne(_,{key:0},{default:h(()=>[s("div",Ue,[d(e(Ee),{onClick:U})]),d(v,{value:e(m),"onUpdate:value":l[0]||(l[0]=y=>q(m)?m.value=y:m=y),bordered:!1,placeholder:a.$t("add_task"),onKeydown:l[1]||(l[1]=De(y=>U(),["enter"])),onCompositionstart:l[2]||(l[2]=y=>q(g)?g.value=!1:g=!1),onCompositionend:l[3]||(l[3]=y=>q(g)?g.value=!0:g=!0),onChange:ce},null,8,["value","placeholder"]),e(I)?(S(),F("div",{key:0,class:W(["tools",e(I)?"enter-action":"leave-active"])},[s("div",Xe,[d(e(B),{title:a.$t("footer.calendar"),isDefault:!1},{default:h(()=>[d(e(x),{ref_key:"dropdownRef",ref:le,iconName:"icon-calendar",calendarList:e(re),onClickMenu:fe,showCustomItem:!0},null,8,["calendarList"])]),_:1},8,["title"]),s("div",Je,[s("span",Ke,O(e(k)&&e(P)(`calendar.${e(k)}`)),1)])]),s("div",Qe,[d(e(B),{title:a.$t("footer.remind"),isDefault:!1},{default:h(()=>[d(e(x),{iconName:"icon-remind",calendarList:e(ie),onClickMenu:pe,showTimePick:!0,showCustomItem:!0},null,8,["calendarList"])]),_:1},8,["title"]),s("div",Ve,[s("span",et,O(e(w)&&e(L)(e(w))),1)])]),s("div",tt,[d(e(B),{title:a.$t("footer.repeat"),isDefault:!1},{default:h(()=>[d(e(x),{iconName:"icon-repeat",calendarList:e(de),onClickMenu:me},null,8,["calendarList"])]),_:1},8,["title"]),s("div",at,[s("span",ot,O(e(E)&&e(P)(`calendar.${e(E)}`)),1)])])],2)):j("",!0)]),_:1})):j("",!0)}}}),ct=se(st,[["__scopeId","data-v-c8442b18"]]);export{ut as T,ct as a};
//# sourceMappingURL=footer-859f2a3e.js.map
